<div class="page-container">
  <!-- Left container wrapper -->
  <div class="left-container-wrapper" #fileDropZone (dragover)="onDragOver($event)">
    <!-- Upload Container -->
    <div class="left-container" *ngIf="!fitsLoaded">
      <div class="prompt-container">
        <div class="row drop-zone" clusterDragNDrop>
          <div (click)="fileInput.click()" class="click-zone">
            <h3 class="big-title">Drop to Upload</h3>
            <mat-icon class="big-icon">upload</mat-icon>
            <h6>or</h6>
            <h4>Click to Browse</h4>
          </div>
        </div>
      </div>
      <input #fileInput (change)="onFileSelected($event)" style="display: none" type="file">
    </div>

    <!-- Canvas Container with Coordinates and Download Button -->
    <div class="left-container">
      <canvas #fitsCanvas [ngStyle]="{'opacity': ra ? 1 : 0}" id="fitsCanvas"></canvas>

      <!-- Coordinates Display -->
      <div class="coordinates" [ngStyle]="{'opacity': ra ? 1 : 0}">
        <span *ngIf="currentCoordinates">
          RA: {{currentCoordinates.ra.toFixed(2)}}, Dec: {{currentCoordinates.dec.toFixed(2)}}
        </span>
      </div>

      <!-- Download Button Display -->
      <div class="download-button-container" [ngStyle]="{'opacity': ra ? 1 : 0}">
        <button (click)="deleteFITS()">Download Canvas</button>
      </div>
    </div>

    <!-- Controls for Sliders -->
    <div class="controls" *ngIf="ra">
      <!-- RA Offset Slider -->
      <div class="slider-container">
        <label for="xOffset">RA Offset: {{ xOffset }}</label>
        <input id="xOffset" type="range" min="-100" max="100" [(ngModel)]="xOffset" (input)="redrawCircles()">
      </div>
    
      <!-- Dec Offset Slider -->
      <div class="slider-container">
        <label for="yOffset">Dec Offset: {{ yOffset }}</label>
        <input id="yOffset" type="range" min="-100" max="100" [(ngModel)]="yOffset" (input)="redrawCircles()">
      </div>
    
      <!-- Max Value Slider -->
      <div class="slider-container">
        <label for="maxValue">Max Value: {{ maxValue }}</label>
        <input id="maxValue" type="range" min="0" max="1" step="0.05" [(ngModel)]="maxValue" (input)="updateFitsImage()">
      </div>
    </div>
  </div>

  <!-- Right container for highchart -->
  <div class="right-container">
    <app-radiosearch-highchart></app-radiosearch-highchart>
  </div>
</div>
