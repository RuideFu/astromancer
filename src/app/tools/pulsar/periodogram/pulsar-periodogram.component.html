<div class="periodogram-container">
  <!-- Left Panel -->
  <div class="controls-panel">
    <div class="row">
      <div class="col-12">
        <mat-form-field>
          <mat-label>Title</mat-label>
          <input type="text" [(ngModel)]="chartTitle" (ngModelChange)="onFieldChange('title', $event)" placeholder="My Periodogram" matInput>
        </mat-form-field>
      </div>
    </div>
    <!-- <div class="row">
      <div class="col-12">
        <mat-form-field>
          <mat-label>Data</mat-label>
          <input type="text" [(ngModel)]="dataLabel" (ngModelChange)="onFieldChange('data', $event)" placeholder="My Periodogram" matInput>
        </mat-form-field>
      </div>
    </div> -->
    <div class="row">
      <div class="col-6">
        <mat-form-field>
          <mat-label>X Axis</mat-label>
          <input type="text" [(ngModel)]="xAxisLabel" (ngModelChange)="onFieldChange('xAxis', $event)" placeholder="My Periodogram" matInput>
        </mat-form-field>
      </div>
      <div class="col-6">
        <mat-form-field>
          <mat-label>Y Axis</mat-label>
          <input type="text" [(ngModel)]="yAxisLabel" (ngModelChange)="onFieldChange('yAxis', $event)" placeholder="My Periodogram" matInput>
        </mat-form-field>
      </div>
    </div>    
    <div class="row">
      <div class="col-6">
        <mat-form-field>
          <mat-label>{{ freqMode ? 'Start Frequency (Hz)' : 'Start Period (sec)' }}</mat-label>
          <input 
            type="text" 
            [(ngModel)]="startValue" 
            placeholder="{{ freqMode ? 'Enter Frequency' : 'Enter Period' }}" matInput />
        </mat-form-field>
      </div>
      <div class="col-6">
        <mat-form-field>
          <mat-label>{{ freqMode ? 'End Frequency (Hz)' : 'End Period (sec)' }}</mat-label>
          <input 
            type="text" 
            [(ngModel)]="endValue" 
            placeholder="{{ freqMode ? 'Enter Frequency' : 'Enter Period' }}" matInput />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <mat-form-field>
          <mat-label>Points</mat-label>
          <input type="text" [(ngModel)]="numPoints" placeholder="My Periodogram" matInput>
        </mat-form-field>
      </div>
      <div class="col-6">
        <mat-form-field>
          <mat-label i18n>Period Shown</mat-label>
          <mat-select [(ngModel)]="measurementType" (selectionChange)="onMeasurementChange()">
            <mat-option [value]="'Period'">Period</mat-option>
            <mat-option [value]="'Frequency'">Frequency</mat-option>
          </mat-select>
        </mat-form-field>        
      </div>      
    </div>
    <div class="row centered-buttons">
      <button (click)="computeLombScargle()" mat-raised-button> Compute!</button>
    </div>
    <div class="row centered-buttons">
      <button (click)="saveGraph()" mat-raised-button>Save Graph</button>
      <button (click)="resetForm()" mat-raised-button>Reset Form</button>
    </div>


    <!-- File Upload Button -->
    <div class="control-item">
      <label for="fileUpload" class="custom-file-upload">
        Upload TXT File
      </label>
      <input id="fileUpload" type="file" accept=".txt" (change)="onFileSelected($event)" />
    </div>
  </div>

  <!-- Right Panel -->
  <div class="chart-panel">
    <app-pulsar-periodogram-highcharts></app-pulsar-periodogram-highcharts>
  </div>
</div>
